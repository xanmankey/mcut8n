{% extends "base.html" %} {% block body %}

<div class="flex flex-row justify-center p-20">
  <h1 class="text-5xl font-bold">Events</h1>
</div>

<div class="grid grid-cols-2 gap-4 p-4">
  {% for event, rating in events.items() %} {% if not event.suggestion %}
  <div class="bg-white rounded-lg overflow-hidden shadow-md relative">
    <a href="/event/{{ event.id }}">
      <img
        src="{{ url_for('static', filename='imgs/' + event.img) }}"
        alt="Image"
        class="w-full"
      />
    </a>
    {% if rating == 1 %}
    <div class="p-4">
      <button
        class="absolute px-2 py-1 left-0 bottom-[2%] bg-gray-200 rounded-full hover:bg-white"
        id="thumbs_up_{{ loop.index }}"
        hx-post="/rate_event/1/{{ event_id }}/{{ username }}"
        hx-target="#thumbs_up_{{ loop.index }}"
      >
        <i class="far fa-thumbs-up text-blue-800"></i>
      </button>
      <h2 class="text-xl font-bold text-center">{{ event.title }}</h2>
      <button
        class="absolute px-2 py-1 right-0 bottom-[2%] bg-gray-200 rounded-full p-1 hover:bg-white"
        id="thumbs_down_{{ loop.index }}"
        hx-post="/rate_event/-1/{{ event_id }}/{{ username }}"
        hx-target="#thumbs_up_{{ loop.index }}"
      >
        <i class="far fa-thumbs-down text-gray-500 hover:text-red-800"></i>
      </button>
    </div>
    {% elif rating == -1 %}
    <div class="p-4">
      <button
        class="absolute px-2 py-1 left-0 bottom-[2%] bg-gray-200 rounded-full hover:bg-white"
        id="thumbs_up_{{ loop.index }}"
        hx-post="/rate_event/1/{{ event_id }}/{{ username }}"
        hx-target="#thumbs_up_{{ loop.index }}"
      >
        <i class="far fa-thumbs-up text-gray-500 hover:text-blue-800"></i>
      </button>
      <h2 class="text-xl font-bold text-center">{{ event.title }}</h2>
      <button
        class="absolute px-2 py-1 right-0 bottom-[2%] bg-gray-200 rounded-full p-1 hover:bg-white"
        id="thumbs_down_{{ loop.index }}"
        hx-post="/rate_event/-1/{{ event_id }}/{{ username }}"
        hx-target="#thumbs_up_{{ loop.index }}"
      >
        <i class="far fa-thumbs-down text-gray-500 hover:text-red-800"></i>
      </button>
    </div>
    {% else %}
    <div class="p-4">
      <button
        class="absolute px-2 py-1 left-0 bottom-[2%] bg-gray-200 rounded-full hover:bg-white"
        id="thumbs_up_{{ loop.index }}"
        hx-post="/rate_event/1/{{ event_id }}/{{ username }}"
        hx-target="#thumbs_up_{{ loop.index }}"
      >
        <i class="far fa-thumbs-up text-gray-500 hover:text-blue-800"></i>
      </button>
      <h2 class="text-xl font-bold text-center">{{ event.title }}</h2>
      <button
        class="absolute px-2 py-1 right-0 bottom-[2%] bg-gray-200 rounded-full p-1 hover:bg-white"
        id="thumbs_down_{{ loop.index }}"
        hx-post="/rate_event/-1/{{ event_id }}/{{ username }}"
        hx-target="#thumbs_up_{{ loop.index }}"
      >
        <i class="far fa-thumbs-down text-red-800"></i>
      </button>
    </div>
    {% endif %}
  </div>
  {% endif %}
  {% endfor %}
</div>

<div class="flex flex-row justify-center p-20">
  <h1 class="text-5xl font-bold">Event ideas</h1>
</div>

{% for event, rating in events.items() %}
{% if event.suggestion %}
<div class="bg-white rounded-lg overflow-hidden shadow-md relative">
  <a href="/event/{{ event.id }}">
    <img
      src="{{ url_for('static', filename='imgs/' + event.img) }}"
      alt="Image"
      class="w-full"
    />
  </a>
  {% if rating == 1 %}
  <div class="p-4">
    <button
      class="absolute px-2 py-1 left-0 bottom-[2%] bg-gray-200 rounded-full hover:bg-white"
      id="thumbs_up_{{ loop.index }}"
      hx-post="/rate_event/1/{{ event_id }}/{{ username }}"
      hx-target="#thumbs_up_{{ loop.index }}"
    >
      <i class="far fa-thumbs-up text-blue-800"></i>
    </button>
    <h2 class="text-xl font-bold text-center">{{ event.title }}</h2>
    <button
      class="absolute px-2 py-1 right-0 bottom-[2%] bg-gray-200 rounded-full p-1 hover:bg-white"
      id="thumbs_down_{{ loop.index }}"
      hx-post="/rate_event/-1/{{ event_id }}/{{ username }}"
      hx-target="#thumbs_up_{{ loop.index }}"
    >
      <i class="far fa-thumbs-down text-gray-500 hover:text-red-800"></i>
    </button>
  </div>
  {% elif rating == -1 %}
  <div class="p-4">
    <button
      class="absolute px-2 py-1 left-0 bottom-[2%] bg-gray-200 rounded-full hover:bg-white"
      id="thumbs_up_{{ loop.index }}"
      hx-post="/rate_event/1/{{ event_id }}/{{ username }}"
      hx-target="#thumbs_up_{{ loop.index }}"
    >
      <i class="far fa-thumbs-up text-gray-500 hover:text-blue-800"></i>
    </button>
    <h2 class="text-xl font-bold text-center">{{ event.title }}</h2>
    <button
      class="absolute px-2 py-1 right-0 bottom-[2%] bg-gray-200 rounded-full p-1 hover:bg-white"
      id="thumbs_down_{{ loop.index }}"
      hx-post="/rate_event/-1/{{ event_id }}/{{ username }}"
      hx-target="#thumbs_up_{{ loop.index }}"
    >
      <i class="far fa-thumbs-down text-gray-500 hover:text-red-800"></i>
    </button>
  </div>
  {% else %}
  <div class="p-4">
    <button
      class="absolute px-2 py-1 left-0 bottom-[2%] bg-gray-200 rounded-full hover:bg-white"
      id="thumbs_up_{{ loop.index }}"
      hx-post="/rate_event/1/{{ event_id }}/{{ username }}"
      hx-target="#thumbs_up_{{ loop.index }}"
    >
      <i class="far fa-thumbs-up text-gray-500 hover:text-blue-800"></i>
    </button>
    <h2 class="text-xl font-bold text-center">{{ event.title }}</h2>
    <button
      class="absolute px-2 py-1 right-0 bottom-[2%] bg-gray-200 rounded-full p-1 hover:bg-white"
      id="thumbs_down_{{ loop.index }}"
      hx-post="/rate_event/-1/{{ event_id }}/{{ username }}"
      hx-target="#thumbs_up_{{ loop.index }}"
    >
      <i class="far fa-thumbs-down text-red-800"></i>
    </button>
  </div>
  {% endif %}
</div>
{% endif %}
{% endfor %}
</div>

<button
  class="fixed bottom-20 right-5 bg-blue-500 text-white rounded-full p-8"
  id="create_event_btn"
  hx-get="/create_event"
  hx-target="#content"
>
  <i class="fas fa-plus"></i>
</button>

{% endblock %}
